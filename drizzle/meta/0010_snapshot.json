{
  "id": "237b7165-1ec1-42d0-8900-8bae50993b4c",
  "prevId": "696136f4-e6df-4c26-9181-9771090c42ef",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.poker_actions": {
      "name": "poker_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "player_id": {
          "name": "player_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hand_id": {
          "name": "hand_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "action_type": {
          "name": "action_type",
          "type": "action_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actor_source": {
          "name": "actor_source",
          "type": "actor_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'human'"
        },
        "bot_strategy": {
          "name": "bot_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "poker_actions_game_id_poker_games_id_fk": {
          "name": "poker_actions_game_id_poker_games_id_fk",
          "tableFrom": "poker_actions",
          "columnsFrom": [
            "game_id"
          ],
          "tableTo": "poker_games",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "poker_actions_player_id_poker_players_id_fk": {
          "name": "poker_actions_player_id_poker_players_id_fk",
          "tableFrom": "poker_actions",
          "columnsFrom": [
            "player_id"
          ],
          "tableTo": "poker_players",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.poker_cards": {
      "name": "poker_cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "hand_id": {
          "name": "hand_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "game_id": {
          "name": "game_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "player_id": {
          "name": "player_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reveal_at_showdown": {
          "name": "reveal_at_showdown",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rank": {
          "name": "rank",
          "type": "rank",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "suit": {
          "name": "suit",
          "type": "suit",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "poker_cards_game_id_poker_games_id_fk": {
          "name": "poker_cards_game_id_poker_games_id_fk",
          "tableFrom": "poker_cards",
          "columnsFrom": [
            "game_id"
          ],
          "tableTo": "poker_games",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "poker_cards_player_id_poker_players_id_fk": {
          "name": "poker_cards_player_id_poker_players_id_fk",
          "tableFrom": "poker_cards",
          "columnsFrom": [
            "player_id"
          ],
          "tableTo": "poker_players",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.poker_games": {
      "name": "poker_games",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "hand_id": {
          "name": "hand_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "game_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'waiting'"
        },
        "current_round": {
          "name": "current_round",
          "type": "round_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pre-flop'"
        },
        "current_highest_bet": {
          "name": "current_highest_bet",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_player_turn": {
          "name": "current_player_turn",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_aggressor_id": {
          "name": "last_aggressor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pot": {
          "name": "pot",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "big_blind": {
          "name": "big_blind",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 20
        },
        "small_blind": {
          "name": "small_blind",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "turn_ms": {
          "name": "turn_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30000
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_action": {
          "name": "last_action",
          "type": "action_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'check'"
        },
        "last_bet_amount": {
          "name": "last_bet_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "turn_timeout_at": {
          "name": "turn_timeout_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "poker_games_current_player_turn_poker_players_id_fk": {
          "name": "poker_games_current_player_turn_poker_players_id_fk",
          "tableFrom": "poker_games",
          "columnsFrom": [
            "current_player_turn"
          ],
          "tableTo": "poker_players",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.poker_players": {
      "name": "poker_players",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "seat": {
          "name": "seat",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stack": {
          "name": "stack",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1000
        },
        "current_bet": {
          "name": "current_bet",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "has_folded": {
          "name": "has_folded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_connected": {
          "name": "is_connected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_button": {
          "name": "is_button",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "has_won": {
          "name": "has_won",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "show_cards": {
          "name": "show_cards",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "leave_after_hand": {
          "name": "leave_after_hand",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hand_rank": {
          "name": "hand_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hand_value": {
          "name": "hand_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hand_name": {
          "name": "hand_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "poker_players_user_id_users_id_fk": {
          "name": "poker_players_user_id_users_id_fk",
          "tableFrom": "poker_players",
          "columnsFrom": [
            "user_id"
          ],
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        },
        "poker_players_game_id_poker_games_id_fk": {
          "name": "poker_players_game_id_poker_games_id_fk",
          "tableFrom": "poker_players",
          "columnsFrom": [
            "game_id"
          ],
          "tableTo": "poker_games",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.poker_timeouts": {
      "name": "poker_timeouts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "player_id": {
          "name": "player_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reported_by": {
          "name": "reported_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "timeout_at": {
          "name": "timeout_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "poker_timeouts_game_id_poker_games_id_fk": {
          "name": "poker_timeouts_game_id_poker_games_id_fk",
          "tableFrom": "poker_timeouts",
          "columnsFrom": [
            "game_id"
          ],
          "tableTo": "poker_games",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "poker_timeouts_player_id_poker_players_id_fk": {
          "name": "poker_timeouts_player_id_poker_players_id_fk",
          "tableFrom": "poker_timeouts",
          "columnsFrom": [
            "player_id"
          ],
          "tableTo": "poker_players",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "poker_timeouts_reported_by_poker_players_id_fk": {
          "name": "poker_timeouts_reported_by_poker_players_id_fk",
          "tableFrom": "poker_timeouts",
          "columnsFrom": [
            "reported_by"
          ],
          "tableTo": "poker_players",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_roles_user_id_users_id_fk": {
          "name": "user_roles_user_id_users_id_fk",
          "tableFrom": "user_roles",
          "columnsFrom": [
            "user_id"
          ],
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_roles_user_id_unique": {
          "name": "user_roles_user_id_unique",
          "columns": [
            "user_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "auth.users": {
      "name": "users",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": true
    }
  },
  "enums": {
    "public.action_type": {
      "name": "action_type",
      "schema": "public",
      "values": [
        "bet",
        "check",
        "call",
        "raise",
        "fold",
        "timeout"
      ]
    },
    "public.actor_source": {
      "name": "actor_source",
      "schema": "public",
      "values": [
        "human",
        "bot"
      ]
    },
    "public.rank": {
      "name": "rank",
      "schema": "public",
      "values": [
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "J",
        "Q",
        "K",
        "A"
      ]
    },
    "public.suit": {
      "name": "suit",
      "schema": "public",
      "values": [
        "hearts",
        "diamonds",
        "clubs",
        "spades"
      ]
    },
    "public.game_status": {
      "name": "game_status",
      "schema": "public",
      "values": [
        "waiting",
        "active",
        "completed"
      ]
    },
    "public.round_type": {
      "name": "round_type",
      "schema": "public",
      "values": [
        "pre-flop",
        "flop",
        "turn",
        "river",
        "showdown"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "user",
        "admin",
        "dev"
      ]
    }
  },
  "schemas": {},
  "views": {
    "public.cards": {
      "name": "cards",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "hand_id": {
          "name": "hand_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "game_id": {
          "name": "game_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "player_id": {
          "name": "player_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reveal_at_showdown": {
          "name": "reveal_at_showdown",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rank": {
          "name": "rank",
          "type": "rank",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "suit": {
          "name": "suit",
          "type": "suit",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "definition": "select \"id\", \"hand_id\", \"game_id\", \"player_id\", \"reveal_at_showdown\", \"rank\", \"suit\" from \"poker_cards\"",
      "materialized": false,
      "isExisting": false
    }
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}